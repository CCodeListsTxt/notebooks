Java中一共有两种流：`Stream`顺序流和`ParallelStream()`并行流。

---

#### 创建流

实现了`Collection`接口的类可以直接使用`stream()`或`parallelStream()`获取流，而对于数组，可以使用`Arrays.stream()`得到其对应的流。

```java
public static void main(String[] args) {
    int[] arr = { 0, 1, 2, 3, 4, 5, 6, 7 };
    System.out.println(Arrays.stream(arr)
            .filter(num -> num % 2 == 0)
            .count());  // 4
}
```

---

#### 转换流

`filter()`利用给定**谓词**[^1]，返回一个新流。

```java
public static void main(String[] args) {
    int[] arr = { 1, 2, 3, 4, 5 };
    for (var i : Arrays.stream(arr).filter(val -> val % 2 == 0).toArray()) {
        System.out.println(i);  // 2 4
    }
}
```

`map()`利用给定的处理函数转换所有元素，返回一个新流。

```java
public static void main(String[] args) {
    Integer[] arr = { 1, 2, 3 };
    for (var i : Arrays.stream(arr).map(val -> val * 10).toArray()) {
        System.out.println(i);  // 10 20 30
    }
}
```

`distinct()`去除流中重复元素。`sorted()`对流进行排序。

---

#### 子流和结合

`limit()`可以得到流的前n个元素，`skip()`则丢弃前n个元素。

`Stream.concat()`惰性拼接两个流。

---

#### 约简

从流中得到一个具体对象的操作，即为约简。

`max()`和`min()`从流中获取最大最小值。

`findFirst()`和`findAny()`获取流的第一个元素或任意一个元素。

`allMatch()`、`anyMatch()`和`noneMatch()`判断流的元素是否匹配给定谓词。

---

#### 基本类型流

对于基本类型，Java额外定义了一组专门的流，如`IntStream`、`DoubleStream`。

---

[^1]:接受参数，返回布尔类型的可调用对象。
