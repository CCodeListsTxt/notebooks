#### 字符串字面量

* 使用 `''`或`""` 表示字符串字面量，或者使用 `[[]]`表示原始字符串字面量。
  为了确保原始字符串中方括号的正确匹配，可以在`[[]]`两边的括号中间加上相同数量的等号。

  ```lua
  local str1 = "hello world"
  local str2 = 'hello world'
  local str3 = [==[
      local str1 = "hello world"
      local str2 = 'hello world'
  ]==]
  ```

* 使用`..`操作符，对字符串进行拼接操作。

---

#### 类型转换

* 隐式类型转换

  * 当算数运算符的源操作数是字符串时，将字符串隐式转换为数值类型。
  * 当`..`操作符的源操作数是数值类型时，将数值隐式转换为字符串类型。

  ```lua
  print("222" + "333")    -- 555
  print(222 .. 333)       -- 222333
  ```

* 显示类型转换

  * `tonumber()`
  * `tostring`

---

#### 字符串缓冲区

* 由于Lua字符串不可修改，所以如果直接使用字符串做缓冲区，那么每次对缓存区进行操作，都会完整拷贝整个字符串并进行处理，资源占用极高。

  用表做缓冲区，效率会有极大提升。

  ```lua
  local buf = {}
  for i = 1, 100 do
      buf[#buf + 1] = "hello"
  end
  ```

---
#### 字符串标准库

* Lua中所有字符串都是不可修改的，所有字符串变量都是对字符串值的引用。如果需要修改字符串，或进行某些操作，需要通过字符串标准库，且都不会对源字符串进行任何修改。

  | 标准库函数                             | 说明                                            |
  | -------------------------------------- | ----------------------------------------------- |
  | `string.upper()`<br />`string.lower()` | 大小写转换                                      |
  | `string.len()`                         | 字符串长度，等价#操作符                         |
  | `string.sub()`                         | 子串                                            |
  | `string,char()`<br>`string.byte()`     | 字节转换，Lua中字符串都是以字节的方式进行存储的 |
  | `string.format()`                      | 格式化                                          |

* 遍历字符串：

  ```lua
  local str = "hello world"
  for i = 1, #str do
      print(string.sub(str, i, i))
  end
  ```

* Lua5.3引入了`utf8`字符串库，用于操作unicode字符串。

