实数的存储方式主要分为定点实数存储和浮点实数存储两种方式。

定点实数存储即约定整数部分和小数部分分别使用的位数，如整数部分使用2字节，小数部分使用两字节。其计算效率高，但存储不灵活。

浮点存储将空间分为数据域和指数域，指数域负责存储小数点的位数。如655.35，其数据域为65535，指数域可记录为10^-2^。

---

###### IEEEE745编码

现代浮点数通常使用IEEE754编码标准，`float`和`double`两种类型的转换原理相同，只是由于表示范围不同，其编码方式略微有所区别。IEEE754标准将浮点数拆分为三个部分：符号、指数和尾数。

其中`float`由1bit符号、8bit指数和23bit尾数构成，`double`由1bit符号，11bit指数和52bit尾数构成。

其计算实际实数的公式为$${(-1)}^S \times {(1.M)} \times {2}^{E-127}$$，其中$$S$$为符号，$$E$$为指数，$$1.M$$为二进制实数。

```cpp
int main()
{
    float val = 655.35;
    uint8_t *p = reinterpret_cast<uint8_t*>(&val);

    std::cout << std::bitset<8>(p[3]) << " ";   // 01000100
    std::cout << std::bitset<8>(p[2]) << " ";   // 00100011
    std::cout << std::bitset<8>(p[1]) << " ";   // 11010110
    std::cout << std::bitset<8>(p[0]) << " ";   // 01100110
    
    // 符号 S = 0
    // 指数 E = 10001000 = 136
    // 尾数 M = 01000111101011001100110
    // 1.M = 1.01000111101011001100110
    // val = 1010001111.01011001100110
    // 1010001111 = 655
    // 0.01011001100110 ≈ 0.3499755859375
    // val ≈ 655.35

    return 0;
}
```

