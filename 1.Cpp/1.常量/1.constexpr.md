###### 变量

使用constexpr定义变量时，必须使用常量表达式初始化，且其具有const属性。

使用constexpr定义指针时，其初始值必须是编译期可确定的，且只能作为顶层const，不能直接放在标识符前。

###### 函数

使用constexpr修饰的函数，在调用时如果传入常量表达式，其可作为常量表达式使用。

```cpp
constexpr int inc()
{
    int n = 0;
    return ++n;
}

int main()
{
    constexpr int value_1 = inc();
    constexpr int value_2 = inc();

    std::cout << value_1 << std::endl   // 1
              << value_2 << std::endl;  // 1

    return 0;
}
```

###### if constexpr

C++17引入if constexpr，条件表达式必须是编译期常量。编译器只会编译符合条件的代码块。

```cpp
template<typename T>
void echo(const T t)
{
    if constexpr (std::is_pointer_v<T>)
        std::cout << *t << std::endl;
    else
        std::cout << t << std::endl;
}

int main()
{
    int data = 10;
    echo(data); // 10
    echo(&data);// 10

    return 0;
}
```

