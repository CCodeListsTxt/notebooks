#### `fstream`

>  `ifstream`自动包含`io_base::in`，`ifstream`自动包含`io_base::out`。

| 模式              | 说明                             |
| ----------------- | -------------------------------- |
| `io_base::app`    | 每次写操作都追加到文件末尾。     |
| `io_base::ate`    | 打开时移动到文件末尾。           |
| `io_base::binary` | 以二进制方式读写文件。           |
| `io_base::in`     | 从头开始读取文件。               |
| `io_base::out`    | 从头开始写入文件，覆盖已有数据。 |
| `io_base::trunc`  | 截断所有数据。                   |

IO流的输入、输出位置独立，通过`seek()`和`tell()`函数簇管理。

* `seekg()`和`tellg()`负责控制输入流的当前位置。[^1]
* `seekp()`和`tellp()`负责控制输出流的当前位置。[^2]

设置时，既可以传入绝对位置，也可以传入预定义位置+偏移量。

| 预定义位置     | 说明           |
| -------------- | -------------- |
| `io_base::beg` | 流的起始位置。 |
| `io_base::cur` | 流的当前位置。 |
| `io_base::end` | 流的结束位置。 |


---

#### `syncstream`

C++20引入了`<syncstream>`库，提供了线程安全的同步输出流。

```cpp
int main()
{
	std::osyncstream sync_cout(std::cout);
	sync_cout << "hello world\n";

	return 0;
}
```



---

[^1]:get
[^2]:put
