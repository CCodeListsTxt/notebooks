range for是C++11引入的语法糖。

```cpp
for(decl : expr) { }
```

范围表达式可是是数组或对象，如果是对象，其需要满足以下任意条件。
1. 具有`begin()`和`end()`成员函数。

2. 可以作为`begin()`和`end()`的参数。

   > 返回类型必须支持`operator*`、`operator!=`和`operator++`。

C++17对range for进行了改进，`begin()`和`end()`的返回值类型可以不同。

C++20为range for增加了初始化语句的支持。

```cpp
for(init ; decl : expr) { }
```

实现支持range for的类。

```cpp
class Range
{
public:
    class Iterator
    {
    public:
        Iterator(uint32_t n) : n(n) {}
        int operator*() const { return n; }
        bool operator!=(const Iterator &iter) const { return this->n != iter.n; }
        int operator++() const { return ++n; }

    private:
        mutable unsigned n = 0;
    };

public:
    Range(unsigned n) : n(n) {}
    Iterator begin() const { return Iterator(0); }
    Iterator end() const { return Iterator(n); }

private:
    unsigned n = 0;
};

int main()
{
    for (const auto &i: Range(10))
        std::cout << i << std::endl;

    return 0;
}
```

